<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Better Spotify Recs</title>
    <script src="script.js" type="module" defer></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="landing-page" id="landing-page" style="display: none;">
        <span id="landing-page-text">
            Welcome to Nootunez!
            <br>
            <br>
            If you're on browser, you can play music right here in this tab. If you're on mobile,
            Nootunez will act more like a controller for your Spotify app. Just pick your device
            from the list of available devices.
            <br>
            <br>
            Nootunez plays new music based off of your top songs on Spotify,
            but it tries to not play songs you've already heard.
            <br>
            <br>
            If it's your first time using Nootunez, it may take a while to load,
            but don't worry, it will be much faster next time.
            To get started, click the button below to connect to your Spotify account. 
        </span>
        <button id="login-button">
            <img id="logo" src="media/spotify-button.png"> Login with Spotify
        </button>
    </div>

    <button id="sign-out" style="display: none;">sign out</button>
    
    <div id="made-with" style="display: none;">
        <span id="made-with-text">All content provided by</span>
        <img id="logo" src="media/Spotify_Logo_RGB_Green.png">
    </div>
    
    <span id="hello-message"></span>
    <div class= "content-wrapper" id="content-wrapper">

        <div id="about-div" style="display: none;">
            <button id="about-button">about</button>
            <div id="about" style="display: none;">
                <span id="about-text">This website was made out of a frustration with Spotify's recommendation algorithm. <br><br>
                    While I love the idea of algorithm-generated music, Spotify only seems to play songs I already know. <br><br>
                    This website uses Spotify's built-in algorithm to play music, but maintains a 'blacklist' of songs that
                    you've already liked or are in your top songs. Spotify's API doesn't give access to your full listening
                    history, so it may play some songs you've heard before. But, the blacklist will also keep track of
                    songs you've listened to on the website, so it won't play the same thing twice.
                    <br><br>
                    Made by Ron Kiehn.
                    <br><br>
                    <a href="github.com/ronthekiehn/BetterSpotifyRecs" target="_blank">View the source code on GitHub </a></span>
            </div>
        </div>

        <div class="player-container" id="container" style="display: none;">
            <div id="device-selection" class="device-selection" style="display: none;">
                <span id="device-selection-text">Select a device to play music on</span>
                <div class="available-devices">
                    <span id="prompt-text" class="prompt-text">Available devices:</span>
                    <button id="refresh-devices" class="refresh-devices">Refresh</button>
                </div>                
                <div class="device-list" id="device-list">
                </div>
                <button id="start-playing">Start Playing</button>
            </div>

            <div id="loading" class="loading">
                <span id="loading-text">Loading...</span>
            </div>
            <div id="loaded-content" class="loaded-content" style="display: none;">
                <div class="song-details">
                    <div class="album-cover">
                        <img id="album-cover-image" src="media/waiting.png" alt="Album Cover" />
                    </div>
                    <div class="song-details-content">
                        <div class="song-info">
                            <a href="#" id="current-song" target="_blank">Current Song</a>
                            <span id="artist-details" class="artist-details">Artist</span>
                        </div>
                        <button id="like" class="like-button"></button>
                    </div>
                </div>
                <div class="controls">
                    <button id="previous" class="previous-button"></button>
                    <button id="play-pause" class="play-button"></button>
                    <button id="next" class="next-button"></button>
                </div>
            </div> 
        </div>

            <div id="settings-div" style="display: none;">
                <button id="settings-button"></button>
                <div id="settings-devices" class="settings-device-selection" style="display: none;">
                        <span id="settings-prompt-text">Change Device</span>
                        <button id="settings-refresh-devices" class="refresh-devices">Refresh</button>             
                    <div class="device-list" id="settings-device-list">
                        <button>iphone</button>
                        <button>computer</button>
                    </div>
                </div>
            </div>
        </div>

        
    
    
</body>
</html>
