<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Better Spotify Recs</title>
    <script src="script.js" type="module" defer></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class= "content-wrapper" id="content-wrapper">
        <span id="server-error" style="display: none;">NOTE: YOU ARE NOT CONNECTED TO THE SERVER. THIS IS LIKELY AN ISSUE ON MY END. You can continue to use this website, but the blacklist will take much longer to load and not update.</span>
        <div class="landing-page" id="landing-page" style="display:none">
            <span id="landing-page-text">
                Welcome to Better Spotify Recs (name pending). 
                This website will generate recommended songs for you, 
                while maintaining a blacklist of songs you've already heard. 
                We will start by blacklisting all of your liked and top songs.
                To get started, click the button below to log in with Spotify.
            </span>
            <button id="login-button">
                <img id="logo" src="media/spotify-button.png"> Login with Spotify
            </button>
        </div>
        
        <button id="settings-button" style="display: none"></button>
        <div class="settings-menu" id="settings-menu">
            <button id="about-button" style="display:none">About</button>
            <div id="about">
                <span id="about-text">This website was made out of a frustration with Spotify's recommendation algorithm. 
                    While I love the idea of algorithm-generated music, Spotify only seems to play songs I already know. 
                    This website uses Spotify's built-in algorithm to play music, but maintains a 'blacklist' of songs that
                    you've already liked or are in your top songs. Spotify's API doesn't give access to your full listening
                    history, so it may play some songs you've heard before. But, the blacklist will also keep track of
                    songs you've listened to on the website, so it won't play the same thing twice.
                    Made by Ron Kiehn.
                    <a href="github.com/ronthekiehn/BetterSpotifyRecs">View the source code on GitHub</a></span>
            </div>
            <button id="select-device">Change Device</button>
            <div id="settings-devices" class="settings-device-selection" style="display: none">
                <div class="available-devices">
                    <span id="settings-prompt-text">Available devices:</span>
                    <button id="settings-refresh-devices" class="refresh-devices">Refresh</button>
                </div>                
                <div class="device-list" id="settings-device-list"></div>
            </div>
            <button id="rec-button">Rec Settings</button>
            <div class="sign-out-container">
                <button id="sign-out">Sign Out</button>
            </div>
        </div>
        
        <span id="hello-message"></span>
        <div class="player-container" id="container" style="display: none;">
            <div id="device-selection" class="device-selection" style="display: none;">
                <span id="device-selection-text">Select a device to play music on</span>
                <div class="available-devices">
                    <span id="prompt-text" class="prompt-text">Available devices:</span>
                    <button id="refresh-devices" class="refresh-devices">Refresh</button>
                </div>                
                <div class="device-list" id="device-list">
                </div>
                <button id="start-playing">Start Playing</button>
            </div>

            <div id="loading" class="loading">
                <span id="loading-text">Loading...</span>
            </div>
            
            <div id="loaded-content" class="loaded-content" style="display: none;">
                <div class="song-details">
                    <div class="album-cover">
                        <img id="album-cover-image" src="" alt="Album Cover" />
                    </div>
                    <div class="song-details-content">
                        <div class="song-info">
                            <span id="current-song">Current Song</span>
                            <span id="artist-details" class="artist-details">Artist</span>
                        </div>
                        <button id="like" class="like-button"></button>
                    </div>
                </div>
                <div class="controls">
                    <button id="previous" class="previous-button"></button>
                    <button id="play-pause" class="play-button"></button>
                    <button id="next" class="next-button"></button>
                </div>
            </div> 
        </div>
    </div>
    
</body>
</html>
